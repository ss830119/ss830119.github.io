"use strict";var production="false"===$("#appjs").data("mode"),friendo_url=$("#appjs").data("site"),device=deviceCheck();Vue.config.devtools=!production,Vue.config.debug=!production,Vue.config.silent=!production;var md=new MobileDetect(window.navigator.userAgent),tag=document.createElement("script");function findGetParameter(t){var o=null,n=[];return location.search.substr(1).split("&").forEach(function(e){(n=e.split("="))[0]===t&&(o=decodeURIComponent(n[1]))}),o}function checkCookie(t){var o=null,n=[];return document.cookie.split(";").forEach(function(e){" "==e.charAt(0)&&(e=e.substring(1)),(n=e.split("="))[0]===t&&(o=n[1])}),o}function deviceCheck(){var e={},t=new MobileDetect(window.navigator.userAgent);return t.match(/android/i)?(e.os="android",e.version=t.version("android")):t.match(/(iphone|ipad|ipod);?/i)?(e.os="ios",e.version=t.version("iOS")):(e.os="pc",e.version=t.version("Chrome")),e}$(function(){console.log("v1.0"),console.log(device),$(".nav").menu()}),Vue.mixin({data:function(){return{status:"",start_date:"2100/08/09 12:09:10",error_msg:"",mode:production?"Started":"Testing",loading:!1,popuptop:"",navHeight:"",rewardShake:!0,lineHref:"",deviceName:"pc"==device.os?"":"-m",isMb:!1}},computed:{openCome:function(){return!("Testing"==this.mode||start_date<=0)}},watch:{error_msg:function(){$("body").toggleClass("_freeze")}},methods:{gaEvant:function(e){dataLayer.push({event:e}),console.log("ga:",e)},server_busy:function(){var e=this;e.error_msg="系統忙碌中，請稍後在試!",e.loading=!1,e.error_cou=6},setCookie:function(e,t,o){var n=new Date;n.setTime(n.getTime()+1e3*o);var i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";"},logger:function(e,t,o){if(production){_LTracker.push({level:["ERROR","DEBUG","WARNING","INFO","ALL"][e],content:JSON.stringify(t),path:window.location.href,tag:o||null,device:device,timestamp:Date.now()})}},errorDone:function(){this.error_msg=""},checkOnline:function(){navigator.onLine||alert("Internet 連線已斷開，請確認您的網路狀態。")},state_check:function(){var o=this;return $.ajax({method:"GET",url:"".concat(friendo_url,"GetProjectInfo"),success:function(e){var t=e.Data;o.start_date=t.StartDateTime,o.mode=t.Status}})},scrollTo:function(e){$("html,body").animate({scrollTop:$(e).offset().top-this.navHeight},300),$("nav").addClass("hide")},getToken:function(){return $.ajax({url:"".concat(friendo_url,"api/auth/login?projectId=61"),headers:{webtoken:"2YRiIGevkjZZ-S22iwwuSoajRcnZUSeEJ+dwslTtM+s="},method:"GET",dataType:"json"})},menuClick:function(e){this.scrollTo(e)},navIssue:function(){var o=!0;document.getElementById("index").addEventListener("wheel",function(e){if(o){o=!1;var t=e.deltaY;0<=t?$("nav").addClass("hide"):t<0&&$("nav").removeClass("hide"),setTimeout(function(e){o=!0},500)}})}},components:{comingsoon:comingsoon},mounted:function(){$("body").loadpage("init",{async:!1}),this.navIssue()}}),Vue.component("comingsoon",{template:"#comingsoon",props:["StartDate","mode"],data:function(){return{comingsoon:!1,date:{total:0,days:0,hours:0,minutes:0,seconds:0}}},mounted:function(){function a(e,t){return(e=""+e).length>=t?e:a("0"+e,t)}var r=this,s=setInterval(function(){var e=Date.parse(new Date(r.StartDate))-Date.parse(new Date),t=Math.floor(e/1e3%60),o=Math.floor(e/1e3/60%60),n=Math.floor(e/36e5%24),i=Math.floor(e/864e5);r.date={total:e,days:a(i,2),hours:a(n,2),minutes:a(o,2),seconds:a(t,2)},r.date.total<=0||"Testing"==r.mode?(clearInterval(s),r.comingsoon=!1):r.comingsoon=!0},1e3)}});